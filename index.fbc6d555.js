var me=(y,r)=>()=>(r||y((r={exports:{}}).exports,r),r.exports);var xe=me((Te,T)=>{const ve=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))g(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const b of m.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&g(b)}).observe(document,{childList:!0,subtree:!0});function v(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerpolicy&&(m.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?m.credentials="include":h.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function g(h){if(h.ep)return;h.ep=!0;const m=v(h);fetch(h.href,m)}};ve();var T={};(function y(r,v,g,h){var m=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL);function b(){}function O(t){var e=v.exports.Promise,o=e!==void 0?e:r.Promise;return typeof o=="function"?new o(t):(t(b,b),null)}var R=function(){var t=Math.floor(16.666666666666668),e,o,i={},s=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(a){var n=Math.random();return i[n]=requestAnimationFrame(function l(u){s===u||s+t-1<u?(s=u,delete i[n],a()):i[n]=requestAnimationFrame(l)}),n},o=function(a){i[a]&&cancelAnimationFrame(i[a])}):(e=function(a){return setTimeout(a,t)},o=function(a){return clearTimeout(a)}),{frame:e,cancel:o}}(),q=function(){var t,e,o={};function i(s){function a(n,l){s.postMessage({options:n||{},callback:l})}s.init=function(l){var u=l.transferControlToOffscreen();s.postMessage({canvas:u},[u])},s.fire=function(l,u,M){if(e)return a(l,null),e;var f=Math.random().toString(36).slice(2);return e=O(function(x){function p(c){c.data.callback===f&&(delete o[f],s.removeEventListener("message",p),e=null,M(),x())}s.addEventListener("message",p),a(l,f),o[f]=p.bind(null,{data:{callback:f}})}),e},s.reset=function(){s.postMessage({reset:!0});for(var l in o)o[l](),delete o[l]}}return function(){if(t)return t;if(!g&&m){var s=["var CONFETTI, SIZE = {}, module = {};","("+y.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([s])))}catch(a){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",a),null}i(t)}return t}}(),Z={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function X(t,e){return e?e(t):t}function $(t){return t!=null}function d(t,e,o){return X(t&&$(t[e])?t[e]:Z[e],o)}function j(t){return t<0?0:Math.floor(t)}function K(t,e){return Math.floor(Math.random()*(e-t))+t}function k(t){return parseInt(t,16)}function G(t){return t.map(J)}function J(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:k(e.substring(0,2)),g:k(e.substring(2,4)),b:k(e.substring(4,6))}}function Q(t){var e=d(t,"origin",Object);return e.x=d(e,"x",Number),e.y=d(e,"y",Number),e}function ee(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function te(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function re(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function ie(t,e,o,i,s,a,n,l,u){t.save(),t.translate(e,o),t.rotate(a),t.scale(i,s),t.arc(0,0,1,n,l,u),t.restore()}function ne(t){var e=t.angle*(Math.PI/180),o=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*o-Math.random()*o),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar}}function oe(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var o=e.tick++/e.totalTicks,i=e.x+e.random*e.tiltCos,s=e.y+e.random*e.tiltSin,a=e.wobbleX+e.random*e.tiltCos,n=e.wobbleY+e.random*e.tiltSin;return t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-o)+")",t.beginPath(),e.shape==="circle"?t.ellipse?t.ellipse(e.x,e.y,Math.abs(a-i)*e.ovalScalar,Math.abs(n-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ie(t,e.x,e.y,Math.abs(a-i)*e.ovalScalar,Math.abs(n-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):(t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(s)),t.lineTo(Math.floor(a),Math.floor(n)),t.lineTo(Math.floor(i),Math.floor(e.wobbleY))),t.closePath(),t.fill(),e.tick<e.totalTicks}function ae(t,e,o,i,s){var a=e.slice(),n=t.getContext("2d"),l,u,M=O(function(f){function x(){l=u=null,n.clearRect(0,0,i.width,i.height),s(),f()}function p(){g&&!(i.width===h.width&&i.height===h.height)&&(i.width=t.width=h.width,i.height=t.height=h.height),!i.width&&!i.height&&(o(t),i.width=t.width,i.height=t.height),n.clearRect(0,0,i.width,i.height),a=a.filter(function(c){return oe(n,c)}),a.length?l=R.frame(p):x()}l=R.frame(p),u=x});return{addFettis:function(f){return a=a.concat(f),M},canvas:t,promise:M,reset:function(){l&&R.cancel(l),u&&u()}}}function N(t,e){var o=!t,i=!!d(e||{},"resize"),s=d(e,"disableForReducedMotion",Boolean),a=m&&!!d(e||{},"useWorker"),n=a?q():null,l=o?ee:te,u=t&&n?!!t.__confetti_initialized:!1,M=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,f;function x(c,D,P){for(var C=d(c,"particleCount",j),E=d(c,"angle",Number),I=d(c,"spread",Number),w=d(c,"startVelocity",Number),se=d(c,"decay",Number),le=d(c,"gravity",Number),ce=d(c,"drift",Number),W=d(c,"colors",G),he=d(c,"ticks",Number),z=d(c,"shapes"),de=d(c,"scalar"),U=Q(c),_=C,F=[],ue=t.width*U.x,fe=t.height*U.y;_--;)F.push(ne({x:ue,y:fe,angle:E,spread:I,startVelocity:w,color:W[_%W.length],shape:z[K(0,z.length)],ticks:he,decay:se,gravity:le,drift:ce,scalar:de}));return f?f.addFettis(F):(f=ae(t,F,l,D,P),f.promise)}function p(c){var D=s||d(c,"disableForReducedMotion",Boolean),P=d(c,"zIndex",Number);if(D&&M)return O(function(w){w()});o&&f?t=f.canvas:o&&!t&&(t=re(P),document.body.appendChild(t)),i&&!u&&l(t);var C={width:t.width,height:t.height};n&&!u&&n.init(t),u=!0,n&&(t.__confetti_initialized=!0);function E(){if(n){var w={getBoundingClientRect:function(){if(!o)return t.getBoundingClientRect()}};l(w),n.postMessage({resize:{width:w.width,height:w.height}});return}C.width=C.height=null}function I(){f=null,i&&r.removeEventListener("resize",E),o&&t&&(document.body.removeChild(t),t=null,u=!1)}return i&&r.addEventListener("resize",E,!1),n?n.fire(c,C,I):x(c,C,I)}return p.reset=function(){n&&n.reset(),f&&f.reset()},p}var L;function A(){return L||(L=N(null,{useWorker:!0,resize:!0})),L}v.exports=function(){return A().apply(this,arguments)},v.exports.reset=function(){A().reset()},v.exports.create=N})(function(){return typeof window!="undefined"?window:typeof self!="undefined"?self:this||{}}(),T,!1);var ge=T.exports;T.exports.create;const S=8,pe=25,ye=5e3,we=["right","left"],be=["down","up"],H=["#0d8513","#2900c6","#c400f0","#3a3a3a","#979c0a","#b6680f","#a80204"],V=new Audio("win.mp3"),Y=new Audio("parkour.mp3"),Me=()=>{let y;const r=document.createElement("dvd-screen-saver");document.addEventListener("click",()=>g()),document.addEventListener("keydown",()=>g()),document.addEventListener("mousemove",()=>g());const v=()=>{y=setTimeout(()=>{document.body.appendChild(r)},ye)},g=()=>{clearTimeout(y),r.isConnected&&r.destroy(),v()}};class B extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}init(){this.lastBounce=-50,this.setScreen(),this.width=200,this.height=175,this.setRandomPosition(),this.currentColorIndex=0,this.currentDirection={h:"right",v:"down"},this.style.setProperty("--width",`${this.width}px`),this.style.setProperty("--height",`${this.height}px`),document.body.style="overflow: hidden;"}get isOverlapRight(){return this.x+this.width>this.maxWidth}get isOverlapLeft(){return this.x<0}get isOverlapUp(){return this.y<0}get isOverlapDown(){return this.y+this.height>this.maxHeight}setRandomPosition(){this.x=Math.floor(Math.random()*(this.maxWidth-this.width)),this.y=Math.floor(Math.random()*(this.maxHeight-this.height)),this.updateItem()}static get styles(){return`
      :host {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        background: #000e;
        width: 100vw;
        height: 100vh;
      }

      .item {
        width: var(--width);
        height: var(--height);
        background: var(--color, #a80204);
        display: flex;
        justify-content: center;
        align-items: center;
        image-rendering: pixelated;
        box-sizing: border-box;
        transform: translate(var(--x), var(--y));
      }

      .michael {
        --pos-x: calc(25% - calc(var(--width) / 2));

        position: absolute;
        left: var(--pos-x);
        bottom: 0;
        max-width: 100%;
        filter:
          drop-shadow(0 0 5px #fff)
          drop-shadow(0 0 10px #fff);
        transform: translateY(100%);
        transition: transform 0.5s;
      }

      .michael.show {
        transform: translateY(0%);
      }
    `}connectedCallback(){this.init(),this.render(),window.addEventListener("resize",()=>this.setScreen()),this.timer=setTimeout(()=>this.update(),30)}checkBounds(){(this.isOverlapRight||this.isOverlapLeft)&&(this.onBounce(),this.currentDirection.h=we.filter(r=>r!==this.currentDirection.h)[0]),(this.isOverlapUp||this.isOverlapDown)&&(this.onBounce(),this.currentDirection.v=be.filter(r=>r!==this.currentDirection.v)[0])}setScreen(){this.maxWidth=window.innerWidth,this.maxHeight=window.innerHeight,(this.isOverlapDown||this.isOverlapUp||this.isOverlapRight||this.isOverlapLeft)&&this.setRandomPosition()}confetti(){ge({particleCount:500,angle:90,spread:360,origin:{x:.5,y:.5}}),V.currentTime=0,V.play()}onBounce(){this.currentColorIndex=(this.currentColorIndex+1)%H.length,this.style.setProperty("--color",H[this.currentColorIndex]),new Date().getTime()-this.lastBounce<pe&&this.onCornerBounce(),this.lastBounce=new Date().getTime()}onCornerBounce(){this.confetti(),this.showMichaelScott()}showMichaelScott(){const r=this.shadowRoot.querySelector(".michael");r.classList.add("show");const v=()=>{Y.currentTime=0,Y.play()};setTimeout(()=>v(),500),setTimeout(()=>r.classList.remove("show"),1500)}move(){this.currentDirection.h==="right"?this.x+=S:this.currentDirection.h==="left"&&(this.x-=S),this.currentDirection.v==="down"?this.y+=S:this.currentDirection.v==="up"&&(this.y-=S)}updateItem(){this.style.setProperty("--x",`${this.x}px`),this.style.setProperty("--y",`${this.y}px`)}update(){this.move(),this.checkBounds(),this.updateItem(),this.timer=setTimeout(()=>this.update(),30)}destroy(){document.body.style="overflow: auto;",clearTimeout(this.timer),this.remove()}render(){this.shadowRoot.innerHTML=`
    <style>${B.styles}</style>
    <div class="item">
      <img src="manzdvd.gif" alt="DVD item">
    </div>
    <img class="michael" src="michael-scott.png" alt="Michael Scott">
    `}}customElements.define("dvd-screen-saver",B);Me()});export default xe();
